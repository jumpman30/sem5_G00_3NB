<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="999px" preserveAspectRatio="none" style="width:1903px;height:999px;background:#FFFFFF;" version="1.1" viewBox="0 0 1903 999" width="1903px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="900.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="55" y="46.2969"/><rect fill="#FFFFFF" height="879.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="215" y="67.4297"/><rect fill="#FFFFFF" height="790.5781" style="stroke:#181818;stroke-width:1.0;" width="10" x="371" y="111.6953"/><rect fill="#FFFFFF" height="604.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="531" y="268.5234"/><rect fill="#FFFFFF" height="348.2266" style="stroke:#181818;stroke-width:1.0;" width="10" x="691" y="425.3516"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="182.9609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="339.7891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="454.4844"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="685.3125"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="802.7109"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1511.5" y="714.4453"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1844" y="524.9141"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1844" y="626.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="36.2969" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="219.5" x2="219.5" y1="36.2969" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="376" x2="376" y1="36.2969" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="535.5" x2="535.5" y1="36.2969" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="695.5" x2="695.5" y1="36.2969" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="906.5" x2="906.5" y1="36.2969" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1205" x2="1205" y1="841.3594" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1388" x2="1388" y1="493.1328" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1516" x2="1516" y1="378.4375" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1686" x2="1686" y1="221.6094" y2="964.5391"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1849" x2="1849" y1="36.2969" y2="964.5391"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="12" y="24.9951">User Interface</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="5" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="12" y="983.5342">User Interface</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61" x="189.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="196.5" y="24.9951">Router</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61" x="189.5" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="196.5" y="983.5342">Router</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="308" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="315" y="24.9951">BuildingController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="308" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="315" y="983.5342">BuildingController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="476.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="483.5" y="24.9951">BuildingService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="476.5" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="483.5" y="983.5342">BuildingService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="624.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="631.5" y="24.9951">BuildingRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="624.5" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="631.5" y="983.5342">BuildingRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="846.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="853.5" y="24.9951">BuildingMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="846.5" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="853.5" y="983.5342">BuildingMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="221" x="1095" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="1102" y="983.5342">BuildingUpdateResponseDTO</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="1326" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1333" y="983.5342">BuildingSchema</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1461" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1468" y="983.5342">BuildingModel</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="1582" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="1589" y="983.5342">BuildingUpdateRequestDTO</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1801" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1808" y="24.9951">Persistence</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1801" y="963.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1808" y="983.5342">Persistence</text><rect fill="#FFFFFF" height="900.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="55" y="46.2969"/><rect fill="#FFFFFF" height="879.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="215" y="67.4297"/><rect fill="#FFFFFF" height="790.5781" style="stroke:#181818;stroke-width:1.0;" width="10" x="371" y="111.6953"/><rect fill="#FFFFFF" height="604.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="531" y="268.5234"/><rect fill="#FFFFFF" height="348.2266" style="stroke:#181818;stroke-width:1.0;" width="10" x="691" y="425.3516"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="182.9609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="339.7891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="454.4844"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="685.3125"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="902" y="802.7109"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1511.5" y="714.4453"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1844" y="524.9141"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1844" y="626.1797"/><polygon fill="#181818" points="203,63.4297,213,67.4297,203,71.4297,207,67.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="209" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="72" y="62.3638">POST /building (json)</text><polygon fill="#181818" points="359,107.6953,369,111.6953,359,115.6953,363,111.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="225" x2="365" y1="111.6953" y2="111.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="232" y="91.4966">responseDTO =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="232" y="106.6294">createBuilding(json)</text><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="423" y1="140.8281" y2="140.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="423" x2="423" y1="140.8281" y2="153.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="382" x2="423" y1="153.8281" y2="153.8281"/><polygon fill="#181818" points="392,149.8281,382,153.8281,392,157.8281,388,153.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="388" y="135.7622">validate(json)</text><polygon fill="#181818" points="890,178.9609,900,182.9609,890,186.9609,894,182.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="896" y1="182.9609" y2="182.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="388" y="177.895">requestDTO = createUpdateDTO()</text><polygon fill="#181818" points="1570,208.0938,1580,212.0938,1570,216.0938,1574,212.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="907" x2="1576" y1="212.0938" y2="212.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="914" y="207.0278">requestDTO: &lt;&lt;new&gt;&gt;</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="1582" y="190.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="1589" y="210.9561">BuildingUpdateRequestDTO</text><polygon fill="#181818" points="519,264.5234,529,268.5234,519,272.5234,523,268.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="525" y1="268.5234" y2="268.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="388" y="248.3247">responseDTO =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="388" y="263.4575">update(requestDTO)</text><line style="stroke:#181818;stroke-width:1.0;" x1="541" x2="583" y1="297.6563" y2="297.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="583" y1="297.6563" y2="310.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="542" x2="583" y1="310.6563" y2="310.6563"/><polygon fill="#181818" points="552,306.6563,542,310.6563,552,314.6563,548,310.6563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="548" y="292.5903">validate(requestDTO)</text><polygon fill="#181818" points="890,335.7891,900,339.7891,890,343.7891,894,339.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="541" x2="896" y1="339.7891" y2="339.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="548" y="334.7231">building = toModel(requestDTO)</text><polygon fill="#181818" points="1449,364.9219,1459,368.9219,1449,372.9219,1453,368.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="907" x2="1455" y1="368.9219" y2="368.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="914" y="363.856">building: &lt;&lt;new&gt;&gt;</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1461" y="347.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1468" y="367.7842">BuildingModel</text><polygon fill="#181818" points="679,421.3516,689,425.3516,679,429.3516,683,425.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="541" x2="685" y1="425.3516" y2="425.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="548" y="405.1528">entity =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="548" y="420.2856">update(building)</text><polygon fill="#181818" points="890,450.4844,900,454.4844,890,458.4844,894,454.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="701" x2="896" y1="454.4844" y2="454.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="708" y="449.4185">schema = toSchema(entity)</text><polygon fill="#181818" points="1314,479.6172,1324,483.6172,1314,487.6172,1318,483.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="907" x2="1320" y1="483.6172" y2="483.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="914" y="478.5513">schema: &lt;&lt;new&gt;&gt;</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="1326" y="462.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1333" y="482.4795">BuildingSchema</text><polygon fill="#181818" points="1832,520.9141,1842,524.9141,1832,528.9141,1836,524.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="701" x2="1838" y1="524.9141" y2="524.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="708" y="519.8481">entity = findOne(schema)</text><line style="stroke:#181818;stroke-width:1.0;" x1="701" x2="743" y1="584.0469" y2="584.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="743" x2="743" y1="584.0469" y2="597.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="702" x2="743" y1="597.0469" y2="597.0469"/><polygon fill="#181818" points="712,593.0469,702,597.0469,712,601.0469,708,597.0469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="708" y="578.981">verifyEntityExists(entity)</text><polygon fill="#181818" points="1832,622.1797,1842,626.1797,1832,630.1797,1836,626.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="701" x2="1838" y1="626.1797" y2="626.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="708" y="621.1138">persist(schema)</text><polygon fill="#181818" points="890,681.3125,900,685.3125,890,689.3125,894,685.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="701" x2="896" y1="685.3125" y2="685.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="708" y="680.2466">entity = toModel(schema)</text><polygon fill="#181818" points="1499.5,710.4453,1509.5,714.4453,1499.5,718.4453,1503.5,714.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="912" x2="1505.5" y1="714.4453" y2="714.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="919" y="709.3794">entity: &lt;&lt;new&gt;&gt;</text><polygon fill="#181818" points="552,769.5781,542,773.5781,552,777.5781,548,773.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="546" x2="695" y1="773.5781" y2="773.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="558" y="768.5122">entity</text><polygon fill="#181818" points="890,798.7109,900,802.7109,890,806.7109,894,802.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="541" x2="896" y1="802.7109" y2="802.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="548" y="797.645">responseDTO = updateResponseDTO(entity)</text><polygon fill="#181818" points="1083,827.8438,1093,831.8438,1083,835.8438,1087,831.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="907" x2="1089" y1="831.8438" y2="831.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="914" y="826.7778">responseDTO &lt;&lt;new&gt;&gt;</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="221" x="1095" y="810.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="1102" y="830.7061">BuildingUpdateResponseDTO</text><polygon fill="#181818" points="392,869.1406,382,873.1406,392,877.1406,388,873.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="386" x2="535" y1="873.1406" y2="873.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="398" y="868.0747">responseDTO</text><polygon fill="#181818" points="236,898.2734,226,902.2734,236,906.2734,232,902.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="230" x2="375" y1="902.2734" y2="902.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="242" y="897.2075">responseDTO</text><polygon fill="#181818" points="71,942.5391,61,946.5391,71,950.5391,67,946.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="65" x2="219" y1="946.5391" y2="946.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="77" y="926.3403">HTTP 201 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="77" y="941.4731">json(responseDTO)</text><!--MD5=[be0c7651ddced7488ae9c8af8ac70226]
@startuml
participant "User Interface" as UI
participant "Router" as Router
participant "BuildingController" as Controller
participant "BuildingService" as Service

participant "BuildingRepository" as Repository
participant "BuildingMapper" as Mapper
participant "BuildingUpdateResponseDTO" as UpdateResponseDTO
participant "BuildingSchema" as Schema
participant "BuildingModel" as Model
participant "BuildingUpdateRequestDTO" as UpdateRequestDTO
participant "Persistence" as Persistence

activate UI
UI -> Router: POST /building (json)

activate Router
Router -> Controller: responseDTO =\ncreateBuilding(json)

activate Controller
Controller -> Controller: validate(json)
Controller -> Mapper: requestDTO = createUpdateDTO()
create UpdateRequestDTO

activate Mapper
Mapper -> UpdateRequestDTO: requestDTO: <<new>>
deactivate Mapper
Controller -> Service: responseDTO =\nupdate(requestDTO)

activate Service
Service -> Service: validate(requestDTO)
Service -> Mapper: building = toModel(requestDTO)

activate Mapper
create Model
Mapper -> Model: building: <<new>>
deactivate Mapper
Service -> Repository: entity =\nupdate(building)

activate Repository
Repository -> Mapper: schema = toSchema(entity)

activate Mapper
create Schema
Mapper -> Schema: schema: <<new>>
deactivate Mapper
Repository -> Persistence: entity = findOne(schema)

activate Persistence
deactivate Persistence
Repository -> Repository: verifyEntityExists(entity)
Repository -> Persistence: persist(schema)

activate Persistence
deactivate Persistence
Repository -> Mapper: entity = toModel(schema)

activate Mapper
Mapper -> Model: entity: <<new>>

activate Model
deactivate Model
deactivate Mapper
Repository - -> Service: entity
deactivate Repository
Service -> Mapper: responseDTO = updateResponseDTO(entity)

activate Mapper
create UpdateResponseDTO
Mapper -> UpdateResponseDTO: responseDTO <<new>>
deactivate Mapper
Service - -> Controller: responseDTO
deactivate Service
Controller - -> Router: responseDTO
deactivate Controller
Router - -> UI: HTTP 201 OK\njson(responseDTO)
deactivate Router
deactivate UI

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>